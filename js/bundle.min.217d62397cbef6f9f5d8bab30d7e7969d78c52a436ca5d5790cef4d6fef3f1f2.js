const throttle=(e,t)=>{let n=null;return()=>{n==null&&(n=setTimeout(()=>{e(),n=null},t))}},listen=(e,t,n)=>{document.querySelector(e)!==null&&document.querySelector(e).addEventListener(t,n)};let header=document.getElementById("site-header"),lastScrollPosition=window.pageYOffset;const autoHideHeader=()=>{let e=Math.max(window.pageYOffset,0);const t=window.innerHeight+window.pageYOffset>=document.documentElement.scrollHeight-1;t?(header.classList.remove("slideOutDown"),header.classList.add("slideInUp")):e>lastScrollPosition?(header.classList.remove("slideInUp"),header.classList.add("slideOutDown")):(header.classList.remove("slideOutDown"),header.classList.add("slideInUp")),lastScrollPosition=e};let mobileMenuVisible=!1;const toggleMobileMenu=()=>{let e=document.getElementById("mobile-menu");mobileMenuVisible==!1?(e.style.animationName="bounceInRight",e.style.webkitAnimationName="bounceInRight",e.style.display="block",mobileMenuVisible=!0):(e.style.animationName="bounceOutRight",e.style.webkitAnimationName="bounceOutRight",e.style.display="none",mobileMenuVisible=!1)};let shareMenuVisible=!1;const shareMobileMenu=()=>{let e=document.getElementById("share-links");shareMenuVisible==!1?(e.style.animationName="bounceInRight",e.style.webkitAnimationName="bounceInRight",e.style.display="block",shareMenuVisible=!0):(e.style.animationName="bounceOutRight",e.style.webkitAnimationName="bounceOutRight",e.style.display="none",shareMenuVisible=!1)},showImg=()=>{document.querySelector(".bg-img").classList.add("show-bg-img")},hideImg=()=>{document.querySelector(".bg-img").classList.remove("show-bg-img")},toggleToc=()=>{document.getElementById("toc").classList.toggle("show-toc")};header!==null&&(listen("#menu-btn","click",toggleMobileMenu),listen("#share-btn","click",shareMobileMenu),listen("#toc-btn","click",toggleToc),listen("#img-btn","click",showImg),listen(".bg-img","click",hideImg),document.querySelectorAll(".post-year").forEach(e=>{e.addEventListener("click",()=>{window.location.hash="#"+e.id})}),window.addEventListener("scroll",throttle(()=>{autoHideHeader(),mobileMenuVisible==!0&&toggleMobileMenu(),shareMenuVisible==!0&&shareMobileMenu()},250))),(()=>{"use strict";const s=".highlight",o="highlight-copy-btn",i="Copy",t="Copied!",n="Failed :(";if(!navigator.clipboard&&!document.queryCommandSupported("copy"))return;const e=(e,t)=>{const n=e.textContent;e.textContent=t,setTimeout(()=>{e.textContent=n},1e3)},a=document.querySelectorAll(s);a.forEach(s=>{const a=document.createElement("button");a.className=o,a.textContent=i,s.appendChild(a),a.addEventListener("click",async()=>{const i=s.querySelector("pre")||s.firstElementChild;if(!i)return;const r=i.querySelector("code")||i;let o=r.textContent;if(o=o.replace(/\r\n/g,`
`),navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(o),e(a,t)}catch(t){console.error("Copy failed",t),e(a,n)}else if(document.queryCommandSupported("copy")){const s=document.createElement("textarea");s.value=o,s.style.position="absolute",s.style.left="-9999px",document.body.appendChild(s),s.select();try{document.execCommand("copy"),e(a,t)}catch(t){console.error("Copy failed",t),e(a,n)}document.body.removeChild(s)}else console.warn("Copy operation is not supported in this browser.")})})})()