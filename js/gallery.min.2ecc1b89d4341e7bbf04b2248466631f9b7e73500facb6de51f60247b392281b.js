document.addEventListener("DOMContentLoaded",()=>{const e=document.createElement("div");e.className="lightbox-overlay",e.id="imageLightbox";const c=document.createElement("div");c.className="lightbox-content";const t=document.createElement("img");t.alt="Lightbox image";const o=document.createElement("div");o.className="lightbox-caption";const r=document.createElement("span");r.className="lightbox-close",r.innerHTML="&times;";const a=document.createElement("span");a.className="lightbox-nav prev",a.innerHTML="&#10094;";const i=document.createElement("span");i.className="lightbox-nav next",i.innerHTML="&#10095;",c.appendChild(t),c.appendChild(o),e.appendChild(c),e.appendChild(r),e.appendChild(a),e.appendChild(i),document.body.appendChild(e);let n=[],s=0;const d=document.querySelectorAll("a.gallery-item[data-lightbox-group]");d.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.dataset.lightboxGroup;n=Array.from(d).filter(e=>e.dataset.lightboxGroup===t),s=n.indexOf(this),m(this)})});function m(n){const i=n.getAttribute("href"),s=n.dataset.title||"";t.setAttribute("src",i),t.setAttribute("alt",s),o.textContent=s,e.classList.add("active"),f(),document.body.style.overflow="hidden"}function l(){e.classList.remove("active"),t.setAttribute("src",""),t.setAttribute("alt",""),o.textContent="",document.body.style.overflow=""}function u(){s=(s+1)%n.length;const e=n[s];t.setAttribute("src",e.getAttribute("href")),t.setAttribute("alt",e.dataset.title||""),o.textContent=e.dataset.title||""}function h(){s=(s-1+n.length)%n.length;const e=n[s];t.setAttribute("src",e.getAttribute("href")),t.setAttribute("alt",e.dataset.title||""),o.textContent=e.dataset.title||""}function f(){const e=n.length>1?"block":"none";a.style.display=e,i.style.display=e}r.addEventListener("click",l),e.addEventListener("click",t=>{t.target===e&&l()}),i.addEventListener("click",u),a.addEventListener("click",h),document.addEventListener("keydown",t=>{e.classList.contains("active")&&(t.key==="Escape"&&l(),n.length>1&&(t.key==="ArrowRight"&&u(),t.key==="ArrowLeft"&&h()))})})